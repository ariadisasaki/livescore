<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Live Score Bola</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body {
  font-family: Arial, sans-serif;
  background: #0f172a;
  color: white;
  text-align: center;
}

.match {
  background: #1e293b;
  margin: 10px;
  padding: 15px;
  border-radius: 10px;
}

button {
  padding: 10px 20px;
  background: green;
  border: none;
  color: white;
  border-radius: 6px;
}
</style>
</head>
<body>

<h1>âš½ LIVE SCORE</h1>

<button onclick="enableNotif()">Aktifkan Notifikasi</button>

<div id="matches">Loading pertandingan...</div>

<script>
const API_KEY = "9658cfc38277a5c1b3a4af706ae2d77d";

async function getMatches() {
  try {

    const response = await fetch("https://v3.football.api-sports.io/fixtures?live=all", {
      method: "GET",
      headers: {
        "x-apisports-key": API_KEY
      }
    });

    const data = await response.json();

    console.log("DATA:", data);

    if (!data.response || data.response.length === 0) {
      document.getElementById("matches").innerHTML = "Tidak ada pertandingan live.";
      return;
    }

    let html = "";

    data.response.forEach(match => {
      html += `
        <div class="match">
          <h3>${match.teams.home.name} vs ${match.teams.away.name}</h3>
          <p>Skor: ${match.goals.home} - ${match.goals.away}</p>
          <p>Status: ${match.fixture.status.elapsed}'</p>
        </div>
      `;
    });

    document.getElementById("matches").innerHTML = html;

  } catch (error) {
    console.error("ERROR:", error);
    document.getElementById("matches").innerHTML = "Error ambil data. Cek console (F12).";
  }
}

function enableNotif() {
  Notification.requestPermission().then(permission => {
    if (permission === "granted") {
      alert("Notifikasi diaktifkan");
    }
  });
}

getMatches();
setInterval(getMatches, 30000);
</script>

</body>
</html>
